#!/usr/bin/env bash

set -e

cd "$(dirname "$0")/.."

echo "ğŸ¨ Running Code Linting and Formatting"

# Check if ruff is available
if ! command -v ruff &> /dev/null; then
    echo "ğŸ“¦ Installing ruff..."
    python3 -m pip install ruff
fi

echo "ğŸ” Running ruff check..."
ruff check custom_components/xcc/ tests/ --fix

echo "ğŸ¨ Running ruff format..."
ruff format custom_components/xcc/ tests/

echo "âœ… Linting completed!"
